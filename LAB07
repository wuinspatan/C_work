#include <stdio.h>
#include <stdlib.h> 
#include <time.h>

void guessnumber() {
    
    int player_point ;
    int guess_num ;
    int r ;
    int ans ;

    srand(time(NULL)) ;

    do {
        
        player_point = 100 ; // Reset player points for each game
        r = rand() % 100 + 1 ; // Random number between 1 and 100

        printf( "Do you want to play the game (1=play, -1=exit): " ) ;
        scanf( "%d", &ans ) ;

        if ( ans == 1 ) {
            printf( "Guess the winning number (1-100): " ) ;
            scanf( "%d", &guess_num ) ;

            while (guess_num != r) {
                player_point -= 10; // Deduct points

                if (player_point <= 0) {
                    printf("You ran out of points! The winning number was %d. Game over.\n", r);
                    return; // Exit the function
                }

                if (guess_num > r) {
                    printf("Sorry, the winning number is LOWER than %d. (Score=%d)\n", guess_num, player_point);
                } else {
                    printf("Sorry, the winning number is HIGHER than %d. (Score=%d)\n", guess_num, player_point);
                }

                printf("Guess the wiining number (%d-%d): ");
                scanf("%d", &guess_num);
            }

            printf("Congratulations! The winning number was %d. Your final score is %d.\n", r, player_point);
        } else if (ans != -1) {
            printf("Invalid option. Please enter 1 to play or -1 to exit.\n");
        }

    } while (ans != -1); // Repeat until the user decides to exit
}

int main() {
    guessnumber();
    return 0;
}
